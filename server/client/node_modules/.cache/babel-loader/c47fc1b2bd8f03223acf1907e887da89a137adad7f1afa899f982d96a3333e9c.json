{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\WindowsChimp\\\\OneDrive\\\\Documents\\\\GitHub\\\\icloudsoft-drone\\\\server\\\\client\\\\src\\\\context\\\\productContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport ProductReducer from \"../reducer/ProductReducer\";\n// import reducer from \"../reducer/ProductReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/createContext();\nconst API = \"http://localhost:3535/product/products\";\nconst initialState = {\n  isLoading: false,\n  isError: false,\n  products: [],\n  featureProducts: [],\n  isSingleLoading: false,\n  singleProduct: {}\n};\nconst AppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(ProductReducer, initialState);\n  const getProducts = async url => {\n    dispatch({\n      type: \"SET_LOADING\"\n    });\n    try {\n      const res = await axios.get(url);\n      const products = res.data.products;\n      // console.log(products) \n      dispatch({\n        type: \"SET_API_DATA\",\n        payload: products\n      });\n    } catch (error) {\n      dispatch({\n        type: \"API_ERROR\"\n      });\n    }\n  };\n  const getSingleProduct = async url => {\n    dispatch({\n      type: \"SET_SINGLE_LOADING\"\n    });\n    try {\n      const res = await axios.get(url);\n      // console.log(url)\n      // console.log(res)\n      const singleProduct = res.data.product;\n      // console.log(singleProduct)\n      dispatch({\n        type: \"SET_SINGLE_PRODUCT\",\n        payload: singleProduct\n      });\n    } catch (error) {\n      dispatch({\n        type: \"SET_SINGLE_ERROR\"\n      });\n    }\n  };\n  useEffect(() => {\n    getProducts(API);\n  }, []);\n  // console.log(res)\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      ...state,\n      getSingleProduct\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 12\n  }, this);\n};\n_s(AppProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = AppProvider;\nconst useProductContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useProductContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppProvider, AppContext, useProductContext };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useReducer","axios","ProductReducer","jsxDEV","_jsxDEV","AppContext","API","initialState","isLoading","isError","products","featureProducts","isSingleLoading","singleProduct","AppProvider","_ref","_s","children","state","dispatch","getProducts","url","type","res","get","data","payload","error","getSingleProduct","product","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useProductContext","_s2","$RefreshReg$"],"sources":["C:/Users/WindowsChimp/OneDrive/Documents/GitHub/icloudsoft-drone/server/client/src/context/productContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useReducer } from \"react\";\nimport axios from \"axios\"\nimport ProductReducer from \"../reducer/ProductReducer\";\n// import reducer from \"../reducer/ProductReducer\";\nconst AppContext = createContext();\n\nconst API = \"http://localhost:3535/product/products\"\n\n\nconst initialState = {\n    isLoading: false,\n    isError: false,\n    products: [],\n    featureProducts:[],\n    isSingleLoading: false,\n    singleProduct: {}\n};\n\n\nconst AppProvider = ({ children }) => {\n\n    const [state, dispatch] = useReducer(ProductReducer, initialState);\n\n\n    const getProducts = async (url) => {\n        dispatch({ type: \"SET_LOADING\" })\n        try {\n            const res = await axios.get(url)\n            const products = res.data.products\n            // console.log(products) \n            dispatch({ type: \"SET_API_DATA\", payload: products })\n        }\n        catch (error) {\n            dispatch({ type: \"API_ERROR\" })\n        }\n\n    }\n\n\n    const getSingleProduct = async (url) => {\n        dispatch({ type: \"SET_SINGLE_LOADING\" })\n        try {\n            const res = await axios.get(url)\n            // console.log(url)\n            // console.log(res)\n            const singleProduct = res.data.product\n            // console.log(singleProduct)\n            dispatch({ type: \"SET_SINGLE_PRODUCT\", payload: singleProduct })\n        }\n        catch (error) {\n            dispatch({ type: \"SET_SINGLE_ERROR\" })\n        }\n\n    }\n\n    \n\n\n    useEffect(() => {\n        getProducts(API);\n\n    }, [])\n    // console.log(res)\n\n    return <AppContext.Provider value={{ ...state, getSingleProduct }}>{children}</AppContext.Provider>\n\n}\n\n\n\nconst useProductContext = () => {\n    return useContext(AppContext)\n}\n\nexport { AppProvider, AppContext, useProductContext }"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACxE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,2BAA2B;AACtD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,UAAU,gBAAGR,aAAa,EAAE;AAElC,MAAMS,GAAG,GAAG,wCAAwC;AAGpD,MAAMC,YAAY,GAAG;EACjBC,SAAS,EAAE,KAAK;EAChBC,OAAO,EAAE,KAAK;EACdC,QAAQ,EAAE,EAAE;EACZC,eAAe,EAAC,EAAE;EAClBC,eAAe,EAAE,KAAK;EACtBC,aAAa,EAAE,CAAC;AACpB,CAAC;AAGD,MAAMC,WAAW,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAE7B,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,UAAU,CAACE,cAAc,EAAEK,YAAY,CAAC;EAGlE,MAAMa,WAAW,GAAG,MAAOC,GAAG,IAAK;IAC/BF,QAAQ,CAAC;MAAEG,IAAI,EAAE;IAAc,CAAC,CAAC;IACjC,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAG,CAACH,GAAG,CAAC;MAChC,MAAMX,QAAQ,GAAGa,GAAG,CAACE,IAAI,CAACf,QAAQ;MAClC;MACAS,QAAQ,CAAC;QAAEG,IAAI,EAAE,cAAc;QAAEI,OAAO,EAAEhB;MAAS,CAAC,CAAC;IACzD,CAAC,CACD,OAAOiB,KAAK,EAAE;MACVR,QAAQ,CAAC;QAAEG,IAAI,EAAE;MAAY,CAAC,CAAC;IACnC;EAEJ,CAAC;EAGD,MAAMM,gBAAgB,GAAG,MAAOP,GAAG,IAAK;IACpCF,QAAQ,CAAC;MAAEG,IAAI,EAAE;IAAqB,CAAC,CAAC;IACxC,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMtB,KAAK,CAACuB,GAAG,CAACH,GAAG,CAAC;MAChC;MACA;MACA,MAAMR,aAAa,GAAGU,GAAG,CAACE,IAAI,CAACI,OAAO;MACtC;MACAV,QAAQ,CAAC;QAAEG,IAAI,EAAE,oBAAoB;QAAEI,OAAO,EAAEb;MAAc,CAAC,CAAC;IACpE,CAAC,CACD,OAAOc,KAAK,EAAE;MACVR,QAAQ,CAAC;QAAEG,IAAI,EAAE;MAAmB,CAAC,CAAC;IAC1C;EAEJ,CAAC;EAKDvB,SAAS,CAAC,MAAM;IACZqB,WAAW,CAACd,GAAG,CAAC;EAEpB,CAAC,EAAE,EAAE,CAAC;EACN;;EAEA,oBAAOF,OAAA,CAACC,UAAU,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAE,GAAGb,KAAK;MAAEU;IAAiB,CAAE;IAAAX,QAAA,EAAEA;EAAQ;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAuB;AAEvG,CAAC;AAAAnB,EAAA,CA/CKF,WAAW;AAAAsB,EAAA,GAAXtB,WAAW;AAmDjB,MAAMuB,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC5B,OAAOxC,UAAU,CAACO,UAAU,CAAC;AACjC,CAAC;AAAAiC,GAAA,CAFKD,iBAAiB;AAIvB,SAASvB,WAAW,EAAET,UAAU,EAAEgC,iBAAiB;AAAE,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}